(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){},198:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),i=n.n(c),o=(n(103),n(14)),l=n(15),s=n(17),u=n(16),m=n(18),p=n(21),d=n(215),f=n(24),h=n(86),E=n(19),g={list:[]},b={item:{}},O=n(97),v={list:[]},y=Object(f.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":return Object(E.a)({},e,{list:t.payload.items});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ONE_ITEM":return{item:t.payload};default:return e}},basket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_BASKET":return e.list.find(function(e){return e.id===t.item.id})?Object(E.a)({},e,{list:e.list.map(function(e){return e.id===t.item.id?Object(E.a)({},e,{qty:e.qty+1}):e})}):Object(E.a)({},e,{list:[].concat(Object(O.a)(e.list),[Object(E.a)({},t.item,{qty:1})])});case"REMOVE_FROM_BASKET":return Object(E.a)({},e,{list:e.list.filter(function(e){return e.id!==t.id})});case"CLEAR_BASKET":return Object(E.a)({},e,{list:[]});default:return e}}}),j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,k=n(212),T=n(9),N=n(89),S=n.n(N),w=n(90),C=n.n(w),B=n(44),_=n.n(B),x=n(87),A=n.n(x),F=n(88),M=n.n(F);var I=Object(T.withStyles)(function(e){return{badge:{top:1,right:-15,border:"2px solid ".concat("light"===e.palette.type?e.palette.grey[200]:e.palette.grey[900])}}})(function(e){var t=e.classes,n=e.basketCount;return r.a.createElement(k.a,{to:"/basket"},r.a.createElement(_.a,{"aria-label":"Cart"},r.a.createElement(A.a,{badgeContent:n,color:"primary",classes:{badge:t.badge}},r.a.createElement(M.a,null))))}),P=n(62),R=n.n(P),D=n(63),L=n.n(D);function q(e){return r.a.createElement(L.a,e,r.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))}var G=Object(T.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"flex-end"},icon:{margin:2*e.spacing.unit},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:R.a[800]}}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(q,{className:t.icon}))});var K=Object(T.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(function(e){var t=e.classes,n=e.basketCount;return r.a.createElement("div",{className:t.root},r.a.createElement(S.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement(I,{color:"inherit",basketCount:n}),r.a.createElement(k.a,{to:"/"},r.a.createElement(G,null)))))}),V=Object(p.b)(function(e){return{basketCount:e.basket.list.reduce(function(e,t){return e+t.qty},0)}})(K),W=(n(198),n(216)),z=n(214),H=n(33),J=n.n(H);var U=Object(T.withStyles)(function(e){return{button:{margin:e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement(J.a,{variant:"contained",color:"secondary",className:t.button},"Load more")}),X=n(91),Q=n.n(X),Y=n(34),Z=n.n(Y),$=n(92),ee=n.n($),te=n(93),ne=n.n(te),ae=n(13),re=n.n(ae),ce=n(45),ie=n.n(ce),oe=n(46),le=n.n(oe),se=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.addToBasket,a=e.classes,c=t.model,i=t.img,o=t.configuration,l=t.price,s=t.id,u=t.description;return r.a.createElement(Q.a,{className:a.card},r.a.createElement(k.a,{to:"/item/".concat(s),description:u},r.a.createElement(Z.a,{className:a.media,image:i})),r.a.createElement(ee.a,null,r.a.createElement(re.a,{component:"p"},c)),r.a.createElement(ne.a,{className:a.actions,disableActionSpacing:!0},r.a.createElement("div",{className:"config"},o),r.a.createElement(ie.a,{color:"primary","aria-label":"Add",className:a.fab,onClick:n},r.a.createElement(le.a,null))),"Price: ",l)}}]),t}(r.a.Component),ue=Object(T.withStyles)(function(e){return{card:{maxWidth:400,margin:30,padding:7},fab:{margin:e.spacing.unit},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"}}})(se),me=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={limit:4},n.showMore=function(){var e=n.props,t=e.history,a=e.loadFromServer,r=n.state.limit+4;n.setState({limit:r}),a(r),t.push("/?limit=".concat(r))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.history,a=e.loadFromServer,r=+new URLSearchParams(t.search).get("limit");r||n.push("/?limit=4"),this.setState({limit:r||4}),a(r||4)}},{key:"render",value:function(){var e=this.state.limit,t=this.props,n=t.items,a=t.addToBasket;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"global"},n.map(function(e){return r.a.createElement(ue,{key:e.id,item:e,addToBasket:a(e)})})),n.length>=e&&r.a.createElement("div",{className:"loadButton",onClick:this.showMore},r.a.createElement(U,null)))}}]),t}(r.a.Component),pe=function(e){return{type:"GET_ITEMS",payload:{items:e}}},de=function(e){return{type:"GET_ONE_ITEM",payload:e}};function fe(e){if(!e.ok)throw Error(e.statusText);return e}var he=function(e){return{type:"ADD_TO_BASKET",item:e}},Ee=Object(p.b)(function(e){return{items:e.products.list}},function(e){return{loadFromServer:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){return fetch("http://localhost:3000/api/items?_page=".concat(t,"&_limit=").concat(e)).then(function(e){return e.json()}).then(function(e){return n(pe(e))})}}(t))},addToBasket:function(t){return function(){return e(he(t))}}}})(me),ge=function(){return r.a.createElement("div",null,"Error 404! Page not found",r.a.createElement(k.a,{to:"/"},"Home"))},be=n(20),Oe=n.n(be),ve=n(94),ye=n.n(ve);var je,ke=Object(T.withStyles)(function(e){return{progress:{margin:2*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement(ye.a,{className:t.progress})}),Te=function(e){return{root:Object(E.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,maxWidth:600,margin:"0 auto",marginTop:30,padding:7}),media:{height:0,paddingTop:"56.25%"},fab:{margin:e.spacing.unit},model:{textAlign:"center",paddingBottom:15},configuration:{textAlign:"left",paddingTop:15,paddingBottom:15},price:{paddingTop:30,fontSize:"20px"},foter:{display:"flex",justifyContent:"space-between"}}},Ne=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getOneItem(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.item,a=e.addToBasket;return r.a.createElement("div",null,n.id?r.a.createElement(Oe.a,{className:t.root,elevation:1},r.a.createElement(re.a,{className:t.model,variant:"h5",component:"h3"},n.model),r.a.createElement(Z.a,{className:t.media,image:n.img}),r.a.createElement(re.a,{component:"p",className:t.configuration},"Configuration: ",n.configuration),r.a.createElement(re.a,{component:"p"},n.description),r.a.createElement("div",{className:t.foter},r.a.createElement(re.a,{component:"h3",className:t.price},"Price: ",n.price),r.a.createElement(ie.a,{color:"primary","aria-label":"Add",className:t.fab,onClick:a(n)},r.a.createElement(le.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null),r.a.createElement(ge,null)))}}]),t}(a.PureComponent),Se=Object(T.withStyles)(Te)(Ne),we=Object(p.b)(function(e){return{item:e.product.item}},function(e){return{getOneItem:function(t){return e((n=t,function(e){return fetch("http://localhost:3000/api/items/".concat(n)).then(fe).then(function(e){return e.json()}).then(function(t){return e(de(t))}).catch(function(e){console.log(e)})}));var n},addToBasket:function(t){return function(){return e(he(t))}}}})(Se),Ce=n(213),Be=n(47),_e=n.n(Be),xe=function(e){return{root:Object(E.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,maxWidth:800,margin:"0 auto",marginTop:30,padding:7,display:"flex",alignItems:"center",justifyContent:"space-between"}),media:{height:0,paddingTop:"8.25%",width:100},button:{margin:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit}}},Ae=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.removeFromBasket,a=e.item,c=a.model,i=a.price,o=a.qty,l=a.img,s=a.id;return r.a.createElement(Oe.a,{key:s,className:t.root,elevation:1},r.a.createElement(k.a,{to:"/item/".concat(s)},r.a.createElement(re.a,{component:"p"},"Name: ",c)),r.a.createElement(re.a,{component:"p"},"Price: ",i),r.a.createElement(re.a,{component:"p"},"Total: ",i*o),r.a.createElement(re.a,{component:"p"},"Quantity: ",o),r.a.createElement(Z.a,{className:t.media,image:l}),r.a.createElement(_.a,{className:t.button,onClick:n(s)},r.a.createElement(_e.a,null)))}}]),t}(a.PureComponent),Fe=Object(T.withStyles)(xe)(Ae),Me=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isSend:!1},n.send=function(){var e=n.props,t=e.clearBasket,a=e.history;t(),n.setState({isSend:!0}),setTimeout(function(){a.push("/")},1e3)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.list,a=e.removeFromBasket,c=e.clearBasket,i=this.state.isSend,o=n.reduce(function(e,t){return e+t.qty*t.price},0);return r.a.createElement("div",null,n.length?r.a.createElement(r.a.Fragment,null,n.map(function(e){return r.a.createElement(Fe,{item:e,key:e.id,removeFromBasket:a})}),r.a.createElement(Oe.a,{className:t.root,elevation:1},r.a.createElement(re.a,{component:"p"},"Total price: ",o),r.a.createElement(J.a,{className:t.button,onClick:c},"Clear",r.a.createElement(_e.a,{className:t.rightIcon})),r.a.createElement(J.a,{variant:"contained",color:"primary",className:t.button,onClick:this.send},"Checkout"))):r.a.createElement(r.a.Fragment,null,i?r.a.createElement(Oe.a,{className:t.root,elevation:1},"Sended"):r.a.createElement(Oe.a,{className:t.root,elevation:1},r.a.createElement(re.a,{component:"p"},"Your basket is Empty"),r.a.createElement(k.a,{to:"/"}," Continue shoping"))))}}]),t}(a.PureComponent),Ie=Object(Ce.a)(Object(T.withStyles)(xe)(Me)),Pe=Object(p.b)(function(e){return{list:e.basket.list}},function(e){return{addToBasket:function(t){return function(){return e(he(t))}},removeFromBasket:function(t){return function(){return e(function(e){return{type:"REMOVE_FROM_BASKET",id:e}}(t))}},clearBasket:function(){return e({type:"CLEAR_BASKET"})}}})(Ie),Re=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(W.a,null,r.a.createElement(z.a,{exact:!0,path:"/",component:Ee}),r.a.createElement(z.a,{exact:!0,path:"/item/:id",component:we}),r.a.createElement(z.a,{exact:!0,path:"/basket",component:Pe}),r.a.createElement(z.a,{component:ge}))}}]),t}(a.Component),De=Object(f.e)(y,je,j(Object(f.a)(h.a))),Le=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:De},r.a.createElement(d.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement(Re,null))))}}]),t}(a.Component);i.a.render(r.a.createElement(Le,null),document.getElementById("root"))},98:function(e,t,n){e.exports=n(210)}},[[98,2,1]]]);
//# sourceMappingURL=main.19f828f4.chunk.js.map